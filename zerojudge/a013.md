# 解題紀錄

## 題目：a013. 羅馬數字

## 📙 題目描述

如果生活在數世紀之前的古羅馬，你應該用過 V 來表示五。V 和 5 這兩個符號都可以用來表示數目五。用來表示數目的符號稱作數字。而羅馬人用來表示數目的符號就是羅馬數字。

以下是七個基本的羅馬數字︰

羅馬數字數目
I	1
V	5
X	10
L	50
C	100
D	500
M	1,000
所有其他的數目都是由這些數字組合而成。數目都是由左寫到右，通常值是等於組成的羅馬數字加起來。

例如十七可以表示為

X+V+I+I=XVII
10+5+1+1=17
表示羅馬數字可以使用減法來取代加法的規則。例如四可以不用四個一相加來表示 IIII，而採用五減一來表示 IV。利用這類規則，羅馬人能夠減化許多數目的表示方式，例如 IX 取代 VIIII 表示 9，及 CD 取代 CCCC 表示 400。

今日我們並不確定羅馬符號的起源為何。例如符號 V 的起源主要有兩個理論。有些學者認為五最早是用握拳、拇指在外的手勢來表示。最後以象形文字書寫而簡化為 V。

另一個理論認為 X 源自在 10 條線加上交叉線。因此五可以表示為 X 的一半，或是 V。

羅馬數字可以很容易地用來相加或相減，但算起乘除法就相當不順手。這就是為什麼現在羅馬數字並不常用的原因了。

問題
然而，羅馬數字還是經常用於書本章節及頁碼的編號。在這一題工作是讀入兩個正整數，然後輸出兩個數字差的絕對值。所有的數字都必須以羅馬數字來表示。而連續四個相同符號出現時，必須用減法規則來化簡之。

```txt
輸入說明
每個輸入檔中會有一個或以上的測試資料。每一行由兩個數字組成一筆測試資料，且所有數字將會小於4,000。檔案最後會以符號 # 表示結束。
```

```txt
輸出說明
每筆測試資料的答案必須輸出到檔案中，並且換行。如果答案為零，則須輸出字串 ZERO。
```

```txt
範例輸入 #1    

I I
MM II
#

範例輸出 #1 

ZERO
MCMXCVIII
```

---

## ✒️ 解題思路

這題讀到``#``字符號結束
我們要寫一個函式將羅馬數字轉成阿拉伯數字
在寫一個函式轉回羅馬數字

使用結構體的方法存取資料

---

## 💻 C語言解法

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct {
    char* s;
    int v;
} RN;
RN r2a[] = {{"M", 1000}, {"D", 500}, {"C", 100}, {"L", 50},
            {"X", 10},   {"V", 5},   {"I", 1}};//羅馬轉阿拉伯
RN a2r[] = {{"M", 1000}, {"CM", 900}, {"D", 500}, {"CD", 400}, {"C", 100},
            {"XC", 90},  {"L", 50},   {"XL", 40}, {"X", 10},   {"IX", 9},
            {"V", 5},    {"IV", 4},   {"I", 1}};//阿拉伯轉羅馬

int toArabic(const char* r) {
    int sum = 0, prev = 0;
    for (int i = strlen(r) - 1; i >= 0; i--) {
        int v = 0;
        for (int j = 0; j < 7; j++)
            if (r[i] == r2a[j].s[0]) {
                v = r2a[j].v;
                break;
            }
        sum += (v < prev) ? -v : v;
        /*羅馬數字編排方式如果前一個字較小要減去前一個字*/
        prev = v;//紀錄前一個字
    }
    return sum;
}

void toRoman(int n, char* r) {
    r[0] = '\0';
    for (int i = 0; i < 13 && n; i++)
        while (n >= a2r[i].v) {//從數字大開始減去，直到不能再減
            strcat(r, a2r[i].s);
            n -= a2r[i].v;
        }
}

int main() {
    char r1[20], r2[20], res[20];
    while (scanf("%s", r1) && r1[0] != '#') {
        scanf("%s", r2);
        int diff = abs(toArabic(r1) - toArabic(r2));
        printf("%s\n", diff ? (toRoman(diff, res), res) : "ZERO");
    }
    return 0;
}

```
